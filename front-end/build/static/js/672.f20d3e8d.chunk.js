"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[672],{5672:(e,n,a)=>{a.r(n),a.d(n,{default:()=>j});var s=a(5043),o=(a(6142),a(8929)),t=a(3768),l=a(4960),r=a(579);const i=e=>{let{setModalOpen:n,ele:a}=e;const[i,c]=(0,s.useState)({date:"",time:"",age:"",bloodGroup:"",gender:"",number:"",familyDiseases:""}),d=e=>{const{name:n,value:a}=e.target;return c({...i,[n]:a})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"modal flex-center",children:(0,r.jsxs)("div",{className:"modal__content",children:[(0,r.jsx)("h2",{className:"page-heading",children:"Book Appointment"}),(0,r.jsx)(l.WQq,{onClick:()=>{n(!1)},className:"close-btn"}),(0,r.jsx)("div",{className:"register-container flex-center book",children:(0,r.jsxs)("form",{className:"register-form",children:[(0,r.jsx)("input",{type:"date",name:"date",className:"form-input",value:i.date,onChange:d}),(0,r.jsx)("input",{type:"time",name:"time",className:"form-input",value:i.time,onChange:d}),(0,r.jsx)("input",{type:"number",name:"age",placeholder:"Age",className:"form-input",value:i.age,onChange:d,required:!0}),(0,r.jsx)("input",{type:"text",name:"bloodGroup",placeholder:"Blood Group (Optional)",className:"form-input",value:i.bloodGroup,onChange:d}),(0,r.jsxs)("select",{name:"gender",className:"form-input",value:i.gender,onChange:d,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Gender"}),(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"}),(0,r.jsx)("option",{value:"other",children:"Other"})]}),(0,r.jsx)("input",{type:"number",name:"number",placeholder:"Mobile Number",className:"form-input",value:i.number,onChange:d,required:!0}),(0,r.jsx)("textarea",{name:"familyDiseases",placeholder:"Family Diseases",className:"form-input",value:i.familyDiseases,onChange:d}),(0,r.jsx)("button",{type:"submit",className:"btn form-btn",onClick:async e=>{e.preventDefault();try{var s,l,r;await t.Ay.promise(o.A.post("https://clinica.runasp.net/api/Appointment/byDoctor/:doctorId",{doctorId:null===a||void 0===a||null===(s=a.userId)||void 0===s?void 0:s._id,date:i.date,time:i.time,age:i.age,bloodGroup:i.bloodGroup,gender:i.gender,number:i.number,familyDiseases:i.familyDiseases,doctorname:`${null===a||void 0===a||null===(l=a.userId)||void 0===l?void 0:l.firstname} ${null===a||void 0===a||null===(r=a.userId)||void 0===r?void 0:r.lastname}`},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),{success:"Appointment booked successfully",error:"Unable to book appointment",loading:"Booking appointment..."}),n(!1)}catch(c){return c}},children:"book"})]})})]})})})},c=e=>{let{ele:n}=e;const[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(localStorage.getItem("token")||"");return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-img flex-center",children:(0,r.jsx)("img",{src:"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:"profile"})}),(0,r.jsxs)("h3",{className:"card-name",children:["Dr. ",null===n||void 0===n?void 0:n.name]}),(0,r.jsxs)("p",{className:"phone",children:[(0,r.jsx)("strong",{children:"Email: "}),null===n||void 0===n?void 0:n.email]}),(0,r.jsxs)("p",{className:"specialization",children:[(0,r.jsx)("strong",{children:"Specialization: "}),(null===n||void 0===n?void 0:n.specialization)||"General"]}),(0,r.jsxs)("p",{className:"fees",children:[(0,r.jsx)("strong",{children:"Fees per consultation: "}),"$ ",null===n||void 0===n?void 0:n.price]}),(0,r.jsxs)("p",{className:"phone",children:[(0,r.jsx)("strong",{children:"Phone: "}),null===n||void 0===n?void 0:n.phoneNumber]}),(0,r.jsx)("button",{className:"btn appointment-btn",onClick:()=>{if(""===l)return t.oR.error("You must log in first");o(!0)},children:"Book Appointment"}),a&&(0,r.jsx)(i,{setModalOpen:o,ele:n})]})};var d=a(5560),m=a(7665),u=a(9358),p=a(8271),h=a(9456),x=a(8810),g=a(6760);const j=()=>{const[e,n]=(0,s.useState)([]),a=(0,h.wA)(),{loading:o}=(0,h.d4)((e=>e.root));return(0,s.useEffect)((()=>{(async()=>{a((0,x.r1)(!0));const e=await(0,u.A)("https://clinica.runasp.net/api/Doctor/GetAllDoctors",{headers:{"Content-Type":"application/json"}});n(e),console.log(e),a((0,x.r1)(!1))})()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{}),o&&(0,r.jsx)(p.A,{}),!o&&(0,r.jsxs)("section",{className:"container doctors",children:[(0,r.jsx)("h2",{className:"page-heading",children:"Our Doctors"}),e.length>0?(0,r.jsx)("div",{className:"doctors-card-container",children:e.map((e=>(0,r.jsx)(c,{ele:e},e.id)))}):(0,r.jsx)(g.A,{})]}),(0,r.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=672.f20d3e8d.chunk.js.map